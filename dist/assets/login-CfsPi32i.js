import"./style-Bj0xmOQp.js";const s=document.querySelector("#admin-signup-form");s&&s.addEventListener("submit",async t=>{t.preventDefault();const e=new FormData(t.target),a=Object.fromEntries(e.entries()),o=await fetch("https://soulmatechocolate.in/Admin/protected/backend/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await o.json();o.ok?window.location.href="/login.html":alert(n.message)});const r=document.querySelector("#admin-login-form");r&&r.addEventListener("submit",async t=>{t.preventDefault();const e=new FormData(t.target),a=Object.fromEntries(e.entries()),o=await fetch("https://soulmatechocolate.in/Admin/protected/backend/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"}),n=await o.json();o.ok?(console.log("Login response:",n),alert("Login successful"),window.location.href="https://soulmatechocolate.in/Admin/protected/backend"):alert(n.message)});const c=async()=>{try{const t=await fetch("https://soulmatechocolate.in/Admin/protected/backend",{method:"GET",credentials:"include"});if(t.ok){const e=await t.json();console.log(e)}else throw new Error("Unauthorized")}catch(t){console.error("Error fetching protected data:",t)}};document.addEventListener("DOMContentLoaded",()=>{c()});
